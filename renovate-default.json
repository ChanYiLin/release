{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": ["config:recommended"],
    "baseBranches": [
        "master",
	"main",
        "v1.6.x",
	"v1.5.x"
    ],
    "automergeType": "branch",
    "automergeMajor": false,
    "semanticCommits": "enabled",
    "semanticCommitType": "chore",
    "semanticCommitScope": "deps",
    "timezone": "Asia/Taipei",
    "schedule": ["after 6pm and before 11pm every weekday", "after 10am on saturday", "on sunday"],
    "packageRules": [
	{
	  "matchBaseBranches": ["master", "main", "/^v\\d+\\.\\d+\\.x/"],
	  "matchUpdateTypes": ["major"],
	  "matchManagers": ["gomod"],
      	  "enabled": false
	},
	{
      	  "matchBaseBranches": ["/^v\\d+\\.\\d+\\.x/"],
	  "matchUpdateTypes": ["minor"],
	  "excludePackagePrefixes": ["github.com/longhorn"],
	  "matchManagers": ["gomod"],
      	  "enabled": false
	},
	{
	  "matchBaseBranches": ["/^v\\d+\\.\\d+\\.x/"],
	  "matchManagers": ["github-actions", "droneci"],
	  "enabled": false
	},
	{
          "matchBaseBranches": ["master", "main", "/^v\\d+\\.\\d+\\.x/"],
	  "matchDatasources": ["docker"],
	  "matchPackageNames": ["rancher/dapper"],
	  "enabled": false
        },
	{
	  "matchBaseBranches": ["v1.6.x, v1.5.x"],
	  "matchPackageNames": ["github.com/longhorn/go-iscsi-helper"],
      	  "enabled": false
	},
        {
          "matchBaseBranches": ["master", "main"],
          "matchUpdateTypes": ["minor"],
          "groupName": "minor dependencies"
        },
        {
          "matchBaseBranches": ["master", "main", "/^v\\d+\\.\\d+\\.x/"],
          "matchUpdateTypes": ["patch", "digest"],
          "groupName": "patch digest dependencies",
	  "automerge": true
        },
	{
          "matchBaseBranches": ["master", "main", "/^v\\d+\\.\\d+\\.x/"],
	  "matchDatasources": ["docker"],
	  "groupName": "docker dependencies",
	  "automerge": true
        },
	{
	  "matchBaseBranches": ["v1.6.x"],
	  "matchPackageNames": [
	    "github.com/longhorn/longhorn-engine",
            "github.com/longhorn/longhorn-instance-manager",
            "github.com/longhorn/longhorn-share-manager",
	    "github.com/longhorn/backing-image-manager"
	  ],
	  "allowedVersions": "/^v1\\.6\\.\\S+/",
	  "matchManagers": ["gomod"],
      	  "groupName": "longhorn dependencies"
	},
	{
	  "matchBaseBranches": ["v1.5.x"],
	  "matchPackageNames": [
	    "github.com/longhorn/longhorn-engine",
            "github.com/longhorn/longhorn-instance-manager",
            "github.com/longhorn/longhorn-share-manager",
	    "github.com/longhorn/backing-image-manager"
	  ],
	  "allowedVersions": "/^v1\\.5\\.\\S+/",
	  "matchManagers": ["gomod"],
      	  "groupName": "longhorn dependencies"
	}
    ]
}
